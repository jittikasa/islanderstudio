name = "islanderstudio-blog-api"
main = "src/index.js"
compatibility_date = "2024-01-01"

# Environment variables (set these in Cloudflare dashboard)
# ADMIN_PASSWORD_HASH - bcrypt hash of your admin password
# JWT_SECRET - secret key for signing JWTs

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "blog-database"
database_id = "7a69bf73-d4df-494b-a025-5d549c98164d"

# R2 Storage binding for images
[[r2_buckets]]
binding = "MEDIA"
bucket_name = "blog-media"

# Environment variables
[vars]
# Set this to your R2 bucket's public URL
# Option A: R2.dev subdomain - Run: npx wrangler r2 bucket dev-url enable blog-media
#           Then run: npx wrangler r2 bucket dev-url get blog-media
# Option B: Custom domain - Configure in Cloudflare Dashboard > R2 > blog-media > Connect Domain
R2_PUBLIC_URL = "REPLACE_WITH_YOUR_R2_PUBLIC_URL"

# Email Sending binding
[[send_email]]
name = "EMAIL_SEND"
# This allows your worker to send emails using Cloudflare's email infrastructure
# No additional configuration needed for the binding itself
# You'll need to configure allowed sender addresses in Cloudflare dashboard

# CORS configuration
[env.production]
routes = [
  { pattern = "api.islanderstudio.com/*", zone_name = "islanderstudio.com" }
]

[env.development]
# For local development
